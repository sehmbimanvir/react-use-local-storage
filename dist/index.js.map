{"version":3,"file":"index.js","sources":["../src/storage.js","../src/index.js"],"sourcesContent":["const Storage = {\r\n    prefix: 'react_hook_',\r\n\r\n    set (key, data) {\r\n        localStorage.setItem(this.getKey(key), data)\r\n    },\r\n\r\n    get (key) {\r\n        return localStorage.getItem(this.getKey(key))\r\n    },\r\n\r\n    setJSON (key, data) {\r\n        let json = JSON.stringify(data)\r\n        this.set(key, json)\r\n    },\r\n\r\n    getJSON (key, def = null) {\r\n        let data = this.get(key)\r\n        if (!data && def) return def\r\n        return JSON.parse(data)\r\n    },\r\n\r\n    getKey (key) {\r\n        return `${this.prefix}_${key}`\r\n    },\r\n\r\n    remove (key) {\r\n        if (Array.isArray(key)) {\r\n            key.forEach(value => {\r\n                localStorage.removeItem(this.getKey(value))\r\n            })\r\n        } else {\r\n            localStorage.removeItem(this.getKey(key))\r\n        }\r\n    }\r\n}\r\n\r\nexport { Storage }","import { useEffect, useState } from 'react'\r\nimport { Storage } from './storage'\r\n\r\nexport const useLocalStorage = (key, def = null) => {\r\n  const [state, setState] = useState(Storage.getJSON(key, def))\r\n  \r\n  useEffect(() => {\r\n    Storage.setJSON(key, state)\r\n  }, [state])\r\n\r\n  return [state, setState]\r\n}"],"names":["useState","useEffect"],"mappings":";;;;;;AAAA,MAAM,OAAO,GAAG;AAChB,IAAI,MAAM,EAAE,aAAa;AACzB;AACA,IAAI,GAAG,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE;AACpB,QAAQ,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,IAAI,EAAC;AACpD,KAAK;AACL;AACA,IAAI,GAAG,CAAC,CAAC,GAAG,EAAE;AACd,QAAQ,OAAO,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AACrD,KAAK;AACL;AACA,IAAI,OAAO,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE;AACxB,QAAQ,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,EAAC;AACvC,QAAQ,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,EAAC;AAC3B,KAAK;AACL;AACA,IAAI,OAAO,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,IAAI,EAAE;AAC9B,QAAQ,IAAI,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAC;AAChC,QAAQ,IAAI,CAAC,IAAI,IAAI,GAAG,EAAE,OAAO,GAAG;AACpC,QAAQ,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;AAC/B,KAAK;AACL;AACA,IAAI,MAAM,CAAC,CAAC,GAAG,EAAE;AACjB,QAAQ,OAAO,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACtC,KAAK;AACL;AACA,IAAI,MAAM,CAAC,CAAC,GAAG,EAAE;AACjB,QAAQ,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;AAChC,YAAY,GAAG,CAAC,OAAO,CAAC,KAAK,IAAI;AACjC,gBAAgB,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAC;AAC3D,aAAa,EAAC;AACd,SAAS,MAAM;AACf,YAAY,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,EAAC;AACrD,SAAS;AACT,KAAK;AACL;;AChCY,MAAC,eAAe,GAAG,CAAC,GAAG,EAAE,GAAG,GAAG,IAAI,KAAK;AACpD,EAAE,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAGA,cAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,EAAC;AAC/D;AACA,EAAEC,eAAS,CAAC,MAAM;AAClB,IAAI,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,KAAK,EAAC;AAC/B,GAAG,EAAE,CAAC,KAAK,CAAC,EAAC;AACb;AACA,EAAE,OAAO,CAAC,KAAK,EAAE,QAAQ,CAAC;AAC1B;;;;"}